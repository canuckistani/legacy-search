<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Legacy Beer Search</title>
    <meta charset=utf-8>
    <meta name=description content="">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap CSS -->
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" type="text/css" href="css/jquery.dataTables.css">
  </head>
<body>
<div class="container">
  <h1 class="text">Search Beers ( Legacy Liquor Store )</h1>
  <table cellpadding="0" cellspacing="0" border="0" class="display" id="beer-table"></table>
</div>
  <script src="./lib/jquery.js"></script>
  <script src="./lib/jquery.dataTables.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="lib/underscore-min.js"></script>
  <script type="text/javascript">

  function normalizeData(json) {
    var tableData = [];
    _.each(beers_raw, function(rows) {
        _.each(rows, function(row) {
          var _row = [row[0], '<a target="_blank" href="'+row[1]+'">Link</a>'];
          tableData.push(_row);
        })
    });
    return tableData;
  }

  var beers_raw;
  $(function() {
    $.getJSON('/mock/beers.json', function(json) {
      beers_raw = json;
      $('#beer-table').dataTable({
        "aaData": normalizeData(json),
        "aoColumns": [
          { "sTitle": "Name" },
          { "sTitle": "Link" },
        ]
      });
    });
  });
  </script>
</body>
</html>